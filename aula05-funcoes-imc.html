<!doctype html>
<html>
    <head>
        <title>Curso Javascript Completo 2018</title>
        <meta charset="utf-8">
        
        <script>
            (function(){

                function calculaIMC(peso,altura,callback) {
                    var imc = peso / (altura * altura);

                    if(callback && typeof callback ==='function') {
                        return callback(imc);
                    }
                    console.log("Não passou como parâmetro a função de callback");
                    return imc; 
                };

                function classificaIMC(imc) {

                    var objImc = {};
                    objImc.imc = imc;

                    if(imc <= 16.9) {                        
                        objImc.classificacao = 'Muito abaixo do peso';
                        objImc.podeAcontecer = 'Queda de cabelo, infertilidade, ausência menstrual';
                        
                    } else if(imc <= 18.4) {
                        objImc.classificacao = 'Abaixo do peso';
                        objImc.podeAcontecer = 'Fadiga, stress, ansiedade';
                    } else if(imc <= 24.9) {
                        objImc.classificacao = 'Peso normal';
                        objImc.podeAcontecer = 'Menor risco de doenças cardíacas e vasculares';
                    } else if(imc <= 29.9) {
                        objImc.classificacao = 'Acima do peso';
                        objImc.podeAcontecer = 'Fadiga, má circulação, varizes';
                    } else if(imc <= 34.9) {
                        objImc.classificacao = 'Obesidade Grau I';
                        objImc.podeAcontecer = 'Diabetes, angina, infarto, aterosclerose';
                    } else if(imc <= 40) {
                        objImc.classificacao = 'Obesidade Grau II';
                        objImc.podeAcontecer = 'Apneia do sono, falta de ar';
                    } else {
                        // imc > 40
                        objImc.classificacao = 'Obesidade Grau III';
                        objImc.podeAcontecer = 'Refluxo, dificuldade para se mover, escaras, diabetes, infarto, AVC';
                    }

                    return objImc;
                };

                var peso = 103;
                var altura = 1.74; 

                //var imc = calculaIMC(peso,altura); 
                //var classificacao = classificaIMC(imc);
                //console.log("classificação IMC: ", classificacao);

                var objImc = calculaIMC(peso,altura,classificaIMC); 

                console.log("IMC: ", objImc.imc.toFixed(2)); 
                console.log("classificação IMC: ", objImc.classificacao); 
                console.log("O que pode acontecer: ", objImc.podeAcontecer);               

            })();          
            
        </script>
        
    </head>
    <body>
        <h1>Curso Javascript Completo 2018</h1>
        <h3>Cálculo IMC</h3>
        
         
        
    </body>
</html>