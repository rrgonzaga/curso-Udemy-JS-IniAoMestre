<!doctype html>
<html>
    <head>
        <title>Curso Javascript Completo 2018</title>
        <meta charset="utf-8">      
          
    </head>
    
    <body>
        <div class="container">
            <h1>Curso Javascript Completo 2018</h1>
            
            <button id="btn1" onclick="clicar()">botao 1</button>
            <button id="btn2" onclick="alert('onclick como atributo de btn2');" >botao 2</button>
            <button id="btn3">botao 3</button>
        </div>

        <div class="container">
            <h1>Propagação de eventos</h1>

            <div id="d1" style="background: red; padding: 25px;">
                Texto dentro da div
                <span style="background: yellow;">Texto dentro da span</span>
            </div>
        </div>
        
        <script>

            // Seção 08: aula 43. Objeto Event

            /* 
                - Objeto Event: objeto passado por parâmetro para a função que foi atrelada nos fornecendo várias 
                funções adicionais sobre o evento em si. Este objeto varia de acordo com o tipo de evento.
                - objeto this: elemento que foi atrelado ao evento. 
                - Padrão de propagação de evento: de baixo para cima (parâmetro false). Exemplo:  document.addEventListener("click", function() { ... }, false);
                - Inversão do padrão de propagação de evento: de cima para baixo (parâmetro true). Exemplo: document.addEventListener("click", function() { ... }, true);
                - método stopPropagation(): método para interromper a propação de um evento; 
            */

            console.log('');
            console.log("############## Seção 07: Objetos, aula 43 #######################");
            
            var $d1 = document.querySelector("#d1"); 
            var $d1Span = document.querySelector("#d1 span");

            $d1.addEventListener("click", function(e) {
                console.log("clicou na div d1");
                e.stopPropagation();
            }, false);

            $d1Span.addEventListener("click", function() {
                console.log("clicou no span dentro da div d1"); 
            }, false);

            document.addEventListener("click", function(objEvent) {
                console.log("clicou no elemento document");                
                
                //elemento que foi atrelado ao evento
                console.log('objEvent.currentTarget: ',objEvent.currentTarget);

                //elemento que foi atrelado ao evento
                console.log('this: ',this);

                // elemento exato que recebeu a ação do evento, ou seja, o click
                console.log('objEvent.target: ', objEvent.target);

            }, false);           
            
            
        </script>
        
    </body>
</html>